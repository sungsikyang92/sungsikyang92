# **오류 해결 과정**

# 20220602

## SQL에서 특정 문자열이 출력되지 않을때 혹은 null값으로 출력이 될 때

*   해결과정

우선적으로 콘솔의 오류를 찾아보았다. sql에러라는것을 알 수 있었음.

1.   sql문 실행해보니 문제없이 원하는 답이 출력이 되는것을 확인, 그러나 동일한 문제가 발생함
2.   쿼리문중 하나를 직접 대입하지않고, static final로 만들어서 코드에서 실행, 그러나 동일한 문제가 발생함

*   해결

1.   특정 문자열이 출력되지 않을때의 경우, 애초에 dto에서 누락되어있었다.. 왜 누락되었을까. 앞으로는 문제 발생 시 dto까지 꼭 체크하자.
2.   null값으로 출력될때, 이는 dto의 네이밍과 쿼리문의 네이밍이 맞지 않아서 생긴 문제였다. ALIAS를 사용하여 네이밍규격을 맞춰주니 해결되었다.

***

## CoponentScan의 basePackages 설정 문제

*   문제

본래 service패키지에 service와 serviceImpl이 그리고 dao패키지에 dao와 daosql이 같이 있었다. 그 후, 웹 어플리케이션을 실행하고나니 적어도 1개 이상의 빈을 찾을수가 없다는 오류가 발생했다.

*   해결과정

1.   Controller, Service, Repository 어노테이션들이 잘 설정되어있는지 확인하였다.
2.   Service를 serviceImpl과 서로 다른 패키지로 옮기면서 문제가 발생하지 않았을까 해서
     1.   본래 경로인 dao와 service까지의 경로에서 dao.sqls 그리고 serviceImpl로 경로를 바꿔주었으나 같은 오류가 발생했다.
     2.   dao.* 그리고 service.*로 경로를 바꿔보았으나 같은 오류가 발생하였다.

*   해결

dao와 dao.sqls 그리고 service와 serviceImpl 모두를 등록하였다. 



# 20220531

## WebAppInitializer.config로 web.xml을 대체할때 404 에러

*   해결과정

1.   pom.xml과 web.xml의 설정을 조금씩 바꿔가며 실행했을때 뜨는 콘솔에러를 보고 수정해봄
2.   위와 같은 과정에서 Problems에 뜨는 오류를 수정해봄
3.   config들에 잘못작성된 코드가 없는지 다시 확인해봄
4.   build Path와 contextPath를 '/'으로 수정해봄

*   해결

콘솔창에서 web.xml에 관련된 오류인것을 다시한번 확인하였다. 읽어보니 실행에대하여 두가지가 있어서 충돌이 발생해서 404에러가 뜬것 같았다. 생각해보니 WebAppInitializer.config가 web.xml을 대신하기 위해 만든것이니 주석처리가 아닌 그냥 삭제해서 없애버리면 충돌이 사라지지않을까? 하는 생각에 그냥 지워버리고 실행시켜봤다.

정상 작동한다...이것으로 몇시간을 쓴것일까..



# 20220527

## 방명록 웹어플리케이션에서 한글 입력시 DB의 한글이 깨진다.

*   해결과정

우선 이클립스와 프로젝트의 설정에서 UTF-8로의 인코딩이 잘 되어있는가 확인하였다.

그 후 데이터가 이동하는 flow에 대하여 생각

1.   config들에서 UTF-8로 설정해야하는 파일들에서 잘 되어있는지 확인
2.   Servlet단계에서  response.setContentType("text/html; charset=UTF-8")로 인코딩했던거 기억해서 controller 찾아봄. 근데 컨트롤러 레이어에서는 없어도됨. controller Test에서 문제없이 한글 잘 입출력 출력 되는거 확인.
3. service 레이어확인 여기도 그런거 없어서 관계 무, service test에서 문제없이 한글 잘 입출력되는거 확인
4. dao 확인, dao 테스트에서 문제없이 한글 입출력 되는거 확인

5.   다 잘 되는데 왜? 뒤늦게 pom.xml이랑 web.xml확인함. 근데 여기서 문제있었으면 애초에 안될거라 생각. 보니까 web.xml 필터에서도 UTF-8 해놈

이미 몇시간이 지나있었다. 인터넷 검색해도 이미 내가 적용해보았거나, 나한테 해당안되는것들만나옴.(이미 다 해봄)

*   해결

다시한번 마지막으로 해보고 안되면 나중에 해보자는 마음으로 모두 천천히 살펴봄.

그러던 중 web.xml의 filter-mapping의 url-pattern이 '/'인것을 발견, '/*'으로 적용해보니....

#### 해결이되어버렸다

'/'만 해놓으면 그 위치만 적용이되고 '/*'의  '\*'가 붙어있어야 그 하위 링크들도 UTF-8이 적용이 되는가보다.

